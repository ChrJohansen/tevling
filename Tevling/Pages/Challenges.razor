@page "/challenges"

<PageTitle>Tevling - Challenges</PageTitle>

<h1 class="title mb-5">Challenges</h1>

<div class="d-flex flex-row mb-3 column-gap-5 flex-wrap-reverse">
    <div class="challenges">
        <div class="d-flex column-gap-5 mb-5 align-items-end flex-wrap">
            <div class="challenge-search">
                <label>Search <br><InputText @bind-Value="@FilterText" @oninput="SetFilterTextDebounced" /></label>
            </div>
            <div>
                <a class="btn btn-primary mt-4" href="challenges/create"><i class="bi bi-plus-lg me-2"></i> Create challenge</a>
            </div>
        </div>

        <div class="d-flex flex-wrap column-gap-4 rg-3 mb-3 challenge-list">
            @foreach (Challenge? challenge in ChallengeList)
            {
                <ChallengeCard AthleteId="@AthleteId" Challenge="@challenge" />
            }
        </div>

        <InfiniteScrollingMarker LoadMore="LoadMore" HasMore="HasMore">
            <LoadingTemplate>Loading...</LoadingTemplate>
        </InfiniteScrollingMarker>
    </div>

    <div class="d-flex flex-column rg-3 challenge-filters mb-4">
        <h2>Filters</h2>
        <div class="d-flex flex-column row-gap-1">
            <label><input @bind="ShowMyChallenges" class="form-check-input me-2" type="checkbox" />Show my challenges</label>
            <label><input @bind="ShowChallengesByMe" class="form-check-input me-2" type="checkbox" />Show challenges created by me</label>
            <label><input @bind="ShowOutdatedChallenges" class="form-check-input me-2" type="checkbox" />Show outdated challenges</label>
            @* <label><input @bind="ShowTimeBasedChallenges" class="form-check-input me-2" type="checkbox" />Show time based challenges </label> *@
            @* <label><input @bind="ShowDistanceBasedChallenges" class="form-check-input me-2" type="checkbox" />Show distance based challenges </label> *@
            @* <label><input @bind="ShowElevationBasedChallenges" class="form-check-input me-2" type="checkbox" />Show elevation based challenges </label> *@
        </div>        
        <div class="d-flex flex-column row-gap-1">
            <h5>Challenge type</h5>
            <label><input @bind="ShowTimeBasedChallenges" class="form-check-input me-2" type="radio" name="Measurement"/>Time</label>
            <label><input @bind="ShowDistanceBasedChallenges" class="form-check-input me-2" type="radio" name="Measurement" />Distance</label>
            <label><input @bind="ShowElevationBasedChallenges" class="form-check-input me-2" type="radio" name="Measurement" />Elevation</label>
        </div>
    </div>
</div>
